<section>
  <div class="mx-auto max-w-screen-xl px-4 py-8 sm:px-6 sm:py-12 lg:px-8">
    <header>
      <h2 class="text-xl font-bold text-gray-900 sm:text-3xl flex items-center">
        <%= image_tag(@category.image.variant(:thumb), class: "mr-2") if @category.image.present? %>
        <%= @category.name %>
      </h2>
      <p class="mt-4 max-w-md text-gray-500">
        <%= @category.description %>
      </p>
    </header>
    <div class="mt-4 lg:mt-8 lg:grid lg:grid-cols-4 lg:items-start lg:gap-8">
      <div>
        <p class="block text-xs font-medium text-gray-700">Filters</p>
      </div>
      <div class="lg:col-span-3">
        <% if @products.any? %>
          <ul class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
            <% @products.each do |product| %>
              <li>
                <%= link_to product_path(product), class: "group block overflow-hidden" do  %>
                  <%= product.images.any? ? image_tag(product.images.first.variant(:medium), class: "w-full object-cover transition duration-500 group-hover:scale-105") : image_tag("https://placehold.co/250", class: "w-full object-cover transition duration-500 group-hover:scale-105") %>
                  <div class="relative bg-white pt-3">
                    <h3
                  class="text-xs text-gray-700 group-hover:underline group-hover:underline-offset-4"
                >
                      <%= product.name %>
                    </h3>
                    <p class="mt-2">
                      <span class="sr-only"> Regular Price </span>
                      <span class="tracking-wider text-gray-900"> <%= number_to_currency(product.price) %> </span>
                    </p>
                  </div>
                <% end %>
              </li>
            <% end %>
          </ul>
        <% else %>
          <div class="grid place-content-center bg-white px-4">
            <h3 class="uppercase tracking-widest text-gray-500">No Products</h3>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</section>
